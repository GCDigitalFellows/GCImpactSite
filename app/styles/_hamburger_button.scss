$hamburger-height: 22px;
$hamburger-width: 28px;
$hamburger-bar-height: 4px;
$hamburger-color: #222;
$hamburger-background: transparent;
$hamburger-margin: 5px;
$hamburger-padding: 5px; // pseudo padding, uses absolute positioning to simulate padding

.hamburger-button {
  appearance: none;
  background-color: $hamburger-background;
  border: 0;
  border-radius: 0;
  box-shadow: none;
  cursor: pointer;
  display: block;
  font-size: 0;
  height: $hamburger-height + 2 * $hamburger-padding;
  margin: $hamburger-margin;
  overflow: hidden;
  padding: 0;
  position: relative;
  text-indent: -99999px;
  transition: .3s;
  transition-property: background;
  width: $hamburger-width + 2 * $hamburger-padding;

  &:focus {
    outline: none;
  }

  span {
    background: $hamburger-color;
    display: block;
    height: $hamburger-bar-height;
    left: $hamburger-padding;
    position: absolute;
    right: $hamburger-padding;
    top: $hamburger-height / 2 - $hamburger-bar-height / 2 + $hamburger-padding;
    transition: .3s;
    transition-property: transform;

    &::before,
    &::after {
      background: $hamburger-color;
      content: '';
      display: block;
      height: $hamburger-bar-height;
      left: 0;
      position: absolute;
      width: 100%;
    }

    &::before {
      top: -$hamburger-height / 2 + $hamburger-bar-height / 2;
      transform-origin: top right;
      transition: .3s, .3s, .3s;
      transition-property: transform, width, top;
    }

    &::after {
      bottom: -$hamburger-height / 2 + $hamburger-bar-height / 2;
      transform-origin: bottom right;
      transition: .3s, .3s, .3s;
      transition-property: transform, width, bottom;
    }
  }

  // button activated
  &.active span {
    left: $hamburger-bar-height;
    transform: rotate(180deg);

    &::before,
    &::after {
      width: 100% * 2 / 3;
    }

    &::before {
      top: 0;
      transform: translateX($hamburger-width / 3 + $hamburger-bar-height / 2) translateY($hamburger-bar-height / 2) rotate(45deg);
    }

    &::after {
      bottom: 0;
      transform: translateX($hamburger-width / 3 + $hamburger-bar-height / 2) translateY(- $hamburger-bar-height / 2) rotate(-45deg);
    }
  }
}
